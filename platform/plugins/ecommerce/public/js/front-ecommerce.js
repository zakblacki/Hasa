(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function r(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function o(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:String(r)}function n(e,t){var r=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}(e,t,"get");return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,r)}var i=new WeakMap,a=new WeakMap,l=function(){function e(){var t,l,c,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,c=null,(l=o(l="quickSearchAjax"))in t?Object.defineProperty(t,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[l]=c,r(this,i,{writable:!0,value:function(e){var t=[];return e.map((function(e){e.value&&t.push(e)})),t}}),r(this,a,{writable:!0,value:function(e,t){var r=e.find('button[type="submit"]'),o=e.find('input[name="q"]'),n=e.find(".bb-quick-search-results");o.val()?s.quickSearchAjax=$.ajax({type:"GET",url:t||e.data("ajax-url"),data:e.serialize(),beforeSend:function(){r.addClass("btn-loading"),t||n.removeClass("show").html(""),null!==s.quickSearchAjax&&s.quickSearchAjax.abort()},success:function(e){var r=e.error,o=e.message,i=e.data;r?Theme.showError(o):(n.addClass("show"),t?n.find(".bb-quick-search-list").append($(i).find(".bb-quick-search-list").html()):n.html(i))},complete:function(){return r.removeClass("btn-loading")}}):n.removeClass("show").html("")}}),$(document).on("click",'[data-bb-toggle="toggle-product-categories-tree"]',(function(e){e.preventDefault();var t=$(e.currentTarget);t.toggleClass("active"),t.closest(".bb-product-filter-item").find("> .bb-product-filter-items").slideToggle()})).on("click",'[data-bb-toggle="toggle-filter-sidebar"]',(function(){$(".bb-filter-offcanvas-area").toggleClass("offcanvas-opened"),$(".body-overlay").toggleClass("opened")})).on("click",".body-overlay",(function(){$(".bb-filter-offcanvas-area").removeClass("offcanvas-opened"),$(".body-overlay").removeClass("opened")})).on("submit","form.bb-product-form-filter",(function(e){e.preventDefault();var t=$(e.currentTarget),r=n(s,i).call(s,t.serializeArray()),o="".concat(window.location.origin).concat(window.location.pathname),a=[];r.map((function(e){a.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value)))})),a.length&&(o+="?".concat(a.join("&"))),r.push({name:"_",value:Date.now()}),window.location.href!==o&&$.ajax({url:t.prop("action"),type:"GET",data:r,beforeSend:function(){document.dispatchEvent(new CustomEvent("ecommerce.product-filter.before",{detail:{data:r,element:t}}))},success:function(e){var n=e.message;e.error?Theme.showError(n):(window.history.pushState(r,null,o),document.dispatchEvent(new CustomEvent("ecommerce.product-filter.success",{detail:{data:e,element:t}})))},error:function(e){return Theme.handleError(e)},complete:function(){document.dispatchEvent(new CustomEvent("ecommerce.product-filter.completed",{detail:{element:t}}))}})})).on("change","form.bb-product-form-filter input, form.bb-product-form-filter select",(function(e){$(e.currentTarget).closest("form").trigger("submit")})).on("keyup",".bb-form-quick-search input",(function(e){n(s,a).call(s,$(e.currentTarget).closest("form"))})).on("click","body",(function(e){$(e.target).closest(".bb-form-quick-search").length||$(".bb-quick-search-results").removeClass("show").html("")})).on("click",'[data-bb-toggle="quick-search-load-more"]',(function(e){e.preventDefault();var t=$(e.currentTarget);n(s,a).call(s,t.closest("form"),t.prop("href"))})).on("click",'[data-bb-toggle="quick-shop"]',(function(e){var t=$(e.currentTarget),r=$("#quick-shop-modal");$.ajax({url:t.data("url"),type:"GET",beforeSend:function(){r.find(".modal-body").html(""),r.modal("show"),document.dispatchEvent(new CustomEvent("ecommerce.quick-shop.before-send",{detail:{element:t,modal:r}}))},success:function(e){var t=e.data;r.find(".modal-body").html(t)},error:function(e){return Theme.handleError(e)},complete:function(){document.dispatchEvent(new CustomEvent("ecommerce.quick-shop.completed",{detail:{element:t,modal:r}}))}})})),$(".bb-product-price-filter").length&&this.initPriceFilter()}var l,c,s;return l=e,c=[{key:"isRtl",value:function(){return"rtl"===document.body.getAttribute("dir")}},{key:"initLightGallery",value:function(e){e.length&&(e.data("lightGallery")&&e.data("lightGallery").destroy(!0),e.lightGallery({selector:"a",thumbnail:!0,share:!1,fullScreen:!1,autoplay:!1,autoplayControls:!1,actualSize:!1}))}},{key:"initProductGallery",value:function(){var e=this;if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])){var t=$(".bb-product-gallery-images"),r=$(".bb-product-gallery-thumbnails");t.length&&t.map((function(t,r){var o=$(r);o.hasClass("slick-initialized")&&o.slick("unslick"),o.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,infinite:!1,fade:!0,lazyLoad:"ondemand",asNavFor:".bb-product-gallery-thumbnails",rtl:e.isRtl()})})),r.length&&r.slick({slidesToShow:6,slidesToScroll:1,asNavFor:".bb-product-gallery-images",focusOnSelect:!0,infinite:!1,rtl:this.isRtl(),vertical:1===r.data("vertical"),prevArrow:'<button class="slick-prev slick-arrow"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg></button>',nextArrow:'<button class="slick-next slick-arrow"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 6l6 6l-6 6" /></svg></button>',responsive:[{breakpoint:992,settings:{slidesToShow:4,vertical:!1}},{breakpoint:768,settings:{slidesToShow:3,vertical:!1}}]}),this.initLightGallery(t)}var o=$(".bb-quick-view-gallery-images");o.length&&o.slick({slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!0,adaptiveHeight:!1,rtl:this.isRtl()}),this.initLightGallery(o)}},{key:"initPriceFilter",value:function(){if(void 0===$.fn.slider)throw new Error("jQuery UI slider is required for price filter");var e=$(".bb-product-price-filter"),t=e.find(".price-slider"),r=e.find(".input-range-label");if(e){var o=e.find('input[name="min_price"]'),n=e.find('input[name="max_price"]');t.slider({range:!0,min:t.data("min"),max:t.data("max"),values:[o.val(),n.val()],slide:function(e,t){r.find(".from").text(EcommerceApp.formatPrice(t.values[0])),r.find(".to").text(EcommerceApp.formatPrice(t.values[1]))},change:function(e,t){parseInt(o.val())!==t.values[0]&&o.val(t.values[0]).trigger("change"),parseInt(n.val())!==t.values[1]&&n.val(t.values[1]).trigger("change")}}),r.find(".from").text(this.formatPrice(t.slider("values",0))),r.find(".to").text(this.formatPrice(t.slider("values",1)))}}},{key:"formatPrice",value:function(e,t,r){var o=window.currencies||{};t||(t=void 0!==o.number_after_dot?o.number_after_dot:2);var n="\\d(?=(\\d{"+(r||3)+"})+$)",i="";if(o.show_symbol_or_title&&(i=o.symbol||o.title),o.display_big_money){var a="";e>=1e6&&e<1e9?(e/=1e6,a=o.million):e>=1e9&&(e/=1e9,a=o.billion),i=a+(i?" ".concat(i):"")}return e=(e=e.toFixed(Math.max(0,~~t)).toString().split("."))[0].toString().replace(new RegExp(n,"g"),"$&".concat(o.thousands_separator))+(e[1]?o.decimal_separator+e[1]:""),o.show_symbol_or_title&&(e=o.is_prefix_symbol?i+e:e+i),e}}],c&&t(l.prototype,c),s&&t(l,s),Object.defineProperty(l,"prototype",{writable:!1}),e}();$((function(){window.EcommerceApp=new l}))})();